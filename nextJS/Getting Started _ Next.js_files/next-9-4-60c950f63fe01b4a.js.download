(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3188],{85368:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/next-9-4",function(){return a(95376)}])},4426:function(e,t,a){"use strict";var n=a(67993);a(25921);var s=a(70410),o=a.n(s),i=a(27054),r=a.n(i);t.Z=function(e){let{caption:t,margin:a=40,captionSpacing:s=null,shadow:i=!1,...c}=e;return(0,n.jsxs)("figure",{className:r().figure,style:{margin:`${a}px 0`},children:[(0,n.jsx)(o(),{...c,alt:"",className:`${r().img||""} ${i&&r().shadow||""}`}),t?(0,n.jsx)("figcaption",{className:r().figcaption,style:s?{marginTop:s}:{},children:t}):null]})}},42742:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});var n=a(67993),s=a(14110);function o(e){let{href:t,children:a,...o}=e;return(0,n.jsx)("a",{href:`${s.z$}/docs/edge-network/overview`,rel:"noopener noreferrer",target:"_blank",...o,children:s.Uy})}},89215:function(e,t,a){"use strict";var n=a(67993),s=a(75401),o=a.n(s),i=a(98900);function r(e){let{children:t}=e;return(0,n.jsxs)("p",{className:"jsx-caf08a00e2d0f42",children:[t,(0,n.jsx)(o(),{id:"caf08a00e2d0f42",children:"p.jsx-caf08a00e2d0f42{color:#999;font-size:12px;margin:-20px 0 40px 0;text-align:center}"})]})}r.Code=function(e){let{children:t}=e;return(0,n.jsxs)("code",{className:o().dynamic([["ce444f9689a13e6e",[i.Jb]]]),children:[t,(0,n.jsx)(o(),{id:"ce444f9689a13e6e",dynamic:[i.Jb],children:`code.__jsx-style-dynamic-selector{color:#666;font-family:${i.Jb}}code.__jsx-style-dynamic-selector::before{content:"\`"}code.__jsx-style-dynamic-selector::after{content:"\`"}`})]})},t.Z=r},95736:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return i},meta:function(){return s}}),a(52983);var n=a(44993);let s={title:"Next.js 9.4",description:"Next.js 9.4 introduces React Fast Refresh, Incremental Static Regeneration, New Environment Support, Built-in Fetch, and more!",date:"2020-05-11T15:00:00.479Z",url:"https://nextjs.org/blog/next-9-4",link:"/blog/next-9-4",authors:[{name:"Tim Neutkens",avatar:"/static/team/tim.jpg",twitter:"timneutkens"},{name:"Joe Haddad",avatar:"/static/team/timer.jpg",twitter:"timer150"},{name:"JJ Kasper",avatar:"/static/team/jj.jpg",twitter:"_ijjk"},{name:"Luis Alvarez",avatar:"/static/team/lfades.jpg",twitter:"luis_fades"},{name:"Shu Uesugi",avatar:"/static/team/chibicode.jpg",twitter:"chibicode"}]},o={meta:s};function i(e){let{components:t,...a}=e;return(0,n.kt)("wrapper",Object.assign({},o,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"We are excited today to introduce Next.js 9.4, featuring:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",Object.assign({parentName:"li"},{href:"/blog/next-9-4#fast-refresh"}),"Fast Refresh")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",Object.assign({parentName:"li"},{href:"/blog/next-9-4#incremental-static-regeneration-beta"}),"Incremental Static Regeneration (beta)")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",Object.assign({parentName:"li"},{href:"/blog/next-9-4#cms-examples"}),"CMS Examples")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",Object.assign({parentName:"li"},{href:"/blog/next-9-4#new-environment-variables-support"}),"New Environment Variables Support")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",Object.assign({parentName:"li"},{href:"/blog/next-9-4#improved-built-in-fetch-support"}),"Improved Built-in Fetch Support")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",Object.assign({parentName:"li"},{href:"/blog/next-9-4#integrated-web-vitals-reporting"}),"Integrated Web Vitals Reporting")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",Object.assign({parentName:"li"},{href:"/blog/next-9-4#absolute-imports-and-aliases"}),"Absolute Imports and Aliases")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",Object.assign({parentName:"li"},{href:"/blog/next-9-4#configurable-sass-support"}),"Configurable Sass Support")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",Object.assign({parentName:"li"},{href:"/blog/next-9-4#improved-log-output"}),"Improved Log Output"))))}i.isMDXComponent=!0},95376:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}}),a(52983);var n=a(44993),s=a(40790),o=a(75533),i=a(95736);a(57331),a(89215),a(42742);var r=a(4426),c=a(29717);let p={},l=(0,s.Z)({...i.meta});function m(e){let{components:t,...a}=e;return(0,n.kt)(l,Object.assign({},p,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"We are excited today to introduce Next.js 9.4, featuring:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},(0,n.kt)("a",Object.assign({parentName:"strong"},{href:"#fast-refresh"}),"Fast Refresh")),": fast and reliable live-editing experience, as proven ",(0,n.kt)("a",Object.assign({parentName:"li"},{href:"https://twitter.com/dan_abramov/status/1152689338553131008"}),"at Facebook scale")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},(0,n.kt)("a",Object.assign({parentName:"strong"},{href:"#incremental-static-regeneration-beta"}),"Incremental Static Regeneration (beta)")),": re-build static pages after you've deployed, in milliseconds"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},(0,n.kt)("a",Object.assign({parentName:"strong"},{href:"#cms-examples"}),"CMS Examples")),": examples for ",(0,n.kt)("a",Object.assign({parentName:"li"},{href:"https://github.com/vercel/next.js/tree/canary/examples/cms-contentful"}),"Contentful"),", ",(0,n.kt)("a",Object.assign({parentName:"li"},{href:"https://github.com/vercel/next.js/tree/canary/examples/cms-datocms"}),"DatoCMS"),", ",(0,n.kt)("a",Object.assign({parentName:"li"},{href:"https://github.com/vercel/next.js/tree/canary/examples/cms-prismic"}),"Prismic"),", ",(0,n.kt)("a",Object.assign({parentName:"li"},{href:"https://github.com/vercel/next.js/tree/canary/examples/cms-sanity"}),"Sanity"),", and ",(0,n.kt)("a",Object.assign({parentName:"li"},{href:"https://github.com/vercel/next.js/tree/canary/examples/cms-takeshape"}),"TakeShape")," using our new ",(0,n.kt)("a",Object.assign({parentName:"li"},{href:"/blog/next-9-3"}),"next-gen static site generation")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},(0,n.kt)("a",Object.assign({parentName:"strong"},{href:"#new-environment-variables-support"}),"New Environment Variables Support")),": built-in support for ",(0,n.kt)("inlineCode",{parentName:"li"},".env")," and a ",(0,n.kt)("inlineCode",{parentName:"li"},"NEXT_PUBLIC_")," prefix, as seen in CRA"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},(0,n.kt)("a",Object.assign({parentName:"strong"},{href:"#improved-built-in-fetch-support"}),"Improved Built-in Fetch Support")),": ditch your ",(0,n.kt)("inlineCode",{parentName:"li"},"node-fetch")," and ",(0,n.kt)("inlineCode",{parentName:"li"},"isomorphic-fetch")," imports in favor of a built-in ",(0,n.kt)("inlineCode",{parentName:"li"},"fetch")," polyfill, for Node.js and all browsers (build and runtime)"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},(0,n.kt)("a",Object.assign({parentName:"strong"},{href:"#integrated-web-vitals-reporting"}),"Integrated Web Vitals Reporting")),": capture the ",(0,n.kt)("a",Object.assign({parentName:"li"},{href:"https://web.dev/vitals/"}),"metrics")," that drive Lighthouse scores, but from your real traffic"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},(0,n.kt)("a",Object.assign({parentName:"strong"},{href:"#absolute-imports-and-aliases"}),"Absolute Imports and Aliases")),": clearer and shorter imports, avoiding ",(0,n.kt)("inlineCode",{parentName:"li"},"../../../")," spaghetti"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},(0,n.kt)("a",Object.assign({parentName:"strong"},{href:"#configurable-sass-support"}),"Configurable Sass Support")),": ",(0,n.kt)("a",Object.assign({parentName:"li"},{href:"https://sass-lang.com/documentation/js-api#includepaths"}),"configure ",(0,n.kt)("inlineCode",{parentName:"a"},"includePaths"))," and other options of our ",(0,n.kt)("a",Object.assign({parentName:"li"},{href:"/docs/basic-features/built-in-css-support#sass-support"}),"built-in Sass support")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},(0,n.kt)("a",Object.assign({parentName:"strong"},{href:"#improved-log-output"}),"Improved Log Output")),": console output that's easier to read, consistently formatted, and less repetitive")),(0,n.kt)("h2",null,"Fast Refresh"),(0,n.kt)("p",null,"Fast Refresh is a new hot reloading experience that gives you instantaneous feedback on edits made to your React components. It is now ",(0,n.kt)("strong",{parentName:"p"},"enabled by default")," for all projects on Next.js 9.4 or newer."),(0,n.kt)("p",null,"Hot reloading has ",(0,n.kt)("a",Object.assign({parentName:"p"},{href:"https://github.com/gaearon/react-hot-loader"}),"existed for a long time")," but has ",(0,n.kt)("a",Object.assign({parentName:"p"},{href:"https://github.com/gaearon/react-hot-loader/blob/master/docs/Troubleshooting.md"}),"historically been")," ",(0,n.kt)("a",Object.assign({parentName:"p"},{href:"https://github.com/gaearon/react-hot-loader/issues?q=is%3Aissue"}),"too fragile")," to enable by default in your workflow. Because of this, Next.js previously implemented a coarse form of hot reloading that would reset the entire state of your application."),(0,n.kt)("p",null,"The old hot reloading implementation was not resilient to compilation or runtime errors and would perform a full reload of your application if you made a typo while editing your CSS or JavaScript. This was suboptimal and interrupted your train of thought."),(0,n.kt)("p",null,"Fast Refresh deeply integrates into React itself (",(0,n.kt)("a",Object.assign({parentName:"p"},{href:"https://github.com/facebook/react/tree/master/packages/react-refresh"}),"via React Refresh"),"), allowing Next.js to perform predictable precision updates to your React component tree."),(0,n.kt)("p",null,"This means Next.js will only update code in the file you edited, and only re-render that component, ",(0,n.kt)("strong",{parentName:"p"},"without losing component state"),". This includes styles (inline, CSS-in-JS, or CSS/Sass Modules), markup, event handlers, and effects (via ",(0,n.kt)("inlineCode",{parentName:"p"},"useEffect"),")."),(0,n.kt)(o.n,{caption:"An editing session featuring compiler and runtime errors (with quick recovery), and edits that preserve state.",captionSpacing:30,src:"/static/blog/next-9-4/react-refresh.mp4",width:649.5,height:397,mdxType:"Video"}),(0,n.kt)("p",null,"As part of this experience, we completely redesigned the error overlay to be more helpful and to make your application resilient to typos or runtime errors. This includes, but is not limited to:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Accurate error locations"),", resolved to the ",(0,n.kt)("strong",{parentName:"li"},"original line and column")," of your code, before compilation"),(0,n.kt)("li",{parentName:"ul"},"Contextually relevant ",(0,n.kt)("strong",{parentName:"li"},"source code snippets"),", with the ability ",(0,n.kt)("strong",{parentName:"li"},"click-to-open in your editor")),(0,n.kt)("li",{parentName:"ul"},"Development ",(0,n.kt)("strong",{parentName:"li"},"session resumption")," after a syntax error is fixed, ",(0,n.kt)("strong",{parentName:"li"},"without losing application state")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Automatic dismissal")," of unhandled runtime errors when you fix the error")),(0,n.kt)("p",null,"We would like to thank ",(0,n.kt)("a",Object.assign({parentName:"p"},{href:"https://twitter.com/dan_abramov"}),"Dan Abramov")," for his invaluable contributions and assistance implementing this feature."),(0,n.kt)("h2",null,"Incremental Static Regeneration (beta)"),(0,n.kt)("p",null,"Next.js introduced Static Site Generation methods in 9.3 with a clear goal in mind: we should get ",(0,n.kt)("a",Object.assign({parentName:"p"},{href:"https://rauchg.com/2020/2019-in-review#static-is-the-new-dynamic"}),"the benefits of static")," (always fast, always online, ",(0,n.kt)("a",Object.assign({parentName:"p"},{href:"https://rauchg.com/2020/static-hoisting#hoist-to-the-edge"}),"globally distributed"),"), but with excellent support for dynamic data, which Next.js is known for."),(0,n.kt)("p",null,"To get the best of both worlds, Next.js supports ",(0,n.kt)("strong",{parentName:"p"},"Incremental Static Generation"),`, updating static content after you have already built your site. For example, in 9.3 we’ve introduced the `,(0,n.kt)("inlineCode",{parentName:"p"},"fallback: true")," option in ",(0,n.kt)("inlineCode",{parentName:"p"},"getStaticPaths"),", which allows you to add ",(0,n.kt)("strong",{parentName:"p"},"new pages")," at runtime."),(0,n.kt)("p",null,"We recently put together an example showcasing how Next.js can statically pre-render an infinite number of pages this way:"),(0,n.kt)(c.Z,{width:500,height:611,src:"1253478798286151680",options:{conversation:"none",align:"center"},style:{paddingTop:"calc(500px - 100vw)"},mdxType:"TweetEmbed"}),(0,n.kt)("p",null,"Today, we are also introducing ",(0,n.kt)("strong",{parentName:"p"},"Incremental Static Regeneration (beta)"),", which is a mechanism to ",(0,n.kt)("strong",{parentName:"p"},"update existing pages"),", by re-rendering them in the background as traffic comes in. Inspired by ",(0,n.kt)("a",Object.assign({parentName:"p"},{href:"https://tools.ietf.org/html/rfc5861"}),"stale-while-revalidate"),", this ensures traffic is served uninterrupted, always statically, and the newly built page is pushed only after it's done generating."),(0,n.kt)("pre",Object.assign({},{className:"language-jsx"}),(0,n.kt)("code",Object.assign({parentName:"pre"},{className:"language-jsx"}),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token keyword module"}),"export")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"async")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"function")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token function"}),"getStaticProps"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),`
  `,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token keyword control-flow"}),"return")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),`
    `,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token literal-property property"}),"props"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token keyword control-flow"}),"await")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token function"}),"getDataFromCMS"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),`
    `,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token comment"}),"// we will attempt to re-generate the page:"),`
    `,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token comment"}),"// - when a request comes in"),`
    `,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token comment"}),"// - at most once every second"),`
    `,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token literal-property property"}),"unstable_revalidate"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token number"}),"1"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),`
  `,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),`
`,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),`
`)),(0,n.kt)("p",null,"Unlike SSR, Incremental Static Regeneration ensures you retain the benefits of static:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"No spikes in latency. Pages are served consistently fast."),(0,n.kt)("li",{parentName:"ul"},"Pages never go offline. If the background page re-generation fails, the old page remains unaltered."),(0,n.kt)("li",{parentName:"ul"},"Low database and backend load. Pages are re-computed at most once concurrently.")),(0,n.kt)("p",null,"Both incremental features (adding pages and lazily updating them), as well as ",(0,n.kt)("a",Object.assign({parentName:"p"},{href:"/docs/advanced-features/preview-mode"}),"preview mode"),", are already fully supported by both ",(0,n.kt)("inlineCode",{parentName:"p"},"next start")," and the ",(0,n.kt)("a",Object.assign({parentName:"p"},{href:"https://vercel.com"}),"Vercel edge platform")," out of the box."),(0,n.kt)("p",null,"Up next, we will be working on a supplemental RFC to address two additional incremental static generation capabilities:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Re-generating and invalidating multiple pages at once (like your blog index and a certain blog post)"),(0,n.kt)("li",{parentName:"ul"},"Re-generating by listening to events (like CMS webhooks), ahead of user traffic")),(0,n.kt)("h2",null,"CMS Examples"),(0,n.kt)("p",null,"On the heels of our announcement of ",(0,n.kt)("a",Object.assign({parentName:"p"},{href:"/blog/next-9-3#next-gen-static-site-generation-ssg-support"}),"next-gen static site generation"),", we wanted to share real-world scenarios of fetching content from Headless CMS APIs and rendering it as Next.js HTML."),(0,n.kt)("p",null,"We partnered with the creators of some of the best CMS systems in the world: ",(0,n.kt)("a",Object.assign({parentName:"p"},{href:"https://github.com/vercel/next.js/tree/canary/examples/cms-contentful"}),"Contentful"),", ",(0,n.kt)("a",Object.assign({parentName:"p"},{href:"https://github.com/vercel/next.js/tree/canary/examples/cms-datocms"}),"DatoCMS"),", ",(0,n.kt)("a",Object.assign({parentName:"p"},{href:"https://github.com/vercel/next.js/tree/canary/examples/cms-prismic"}),"Prismic"),", ",(0,n.kt)("a",Object.assign({parentName:"p"},{href:"https://github.com/vercel/next.js/tree/canary/examples/cms-sanity"}),"Sanity"),", and ",(0,n.kt)("a",Object.assign({parentName:"p"},{href:"https://github.com/vercel/next.js/tree/canary/examples/cms-takeshape"}),"TakeShape"),", with more on the way."),(0,n.kt)(r.Z,{src:"/static/blog/next-9-4/blog.png",width:841,height:580,mdxType:"ImageFigure"}),(0,n.kt)("p",null,"These examples are not only ready to be used and 100% open source and MIT licensed, but they incorporate the best practices available:"),(0,n.kt)(r.Z,{caption:"DatoCMS achieves impeccable results due to their built-in image optimization support.",captionSpacing:30,src:"/static/blog/next-9-4/lighthouse.png",width:841,height:581,mdxType:"ImageFigure"}),(0,n.kt)("p",null,"DatoCMS achieves impeccable results due to their built-in image optimization support"),(0,n.kt)("p",null,"We also have collaborated with TinaCMS on an exciting new direction for CMS: ",(0,n.kt)("strong",{parentName:"p"},"in-page editing of content"),". ",(0,n.kt)("a",Object.assign({parentName:"p"},{href:"https://tinacms.org/guides/nextjs/github-open-authoring/initial-setup"}),"Check out their guide")," to learn how to implement it for your project."),(0,n.kt)("h2",null,"New Environment Variables Support"),(0,n.kt)("p",null,"A common piece of feedback that we got from companies using Next.js is that it was unclear when an environment variable is inlined into the browser bundle and when it is only available in the Node.js environment."),(0,n.kt)("p",null,"Today we're announcing two fully backward-compatible features that will help streamline this process."),(0,n.kt)("p",null,"First, you can now prefix the environment variable with ",(0,n.kt)("inlineCode",{parentName:"p"},"NEXT_PUBLIC_")," to expose an environment variable to the browser. When that environment variable is used it will then be inlined into the browser JavaScript bundle."),(0,n.kt)("p",null,"You no longer have to add a ",(0,n.kt)("inlineCode",{parentName:"p"},"next.config.js")," and add the ",(0,n.kt)("inlineCode",{parentName:"p"},"env")," key to expose these variables."),(0,n.kt)("pre",Object.assign({},{className:"language-jsx"}),(0,n.kt)("code",Object.assign({parentName:"pre"},{className:"language-jsx"}),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token comment"}),"// pages/index.js"),`

`,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token comment"}),"// The environment variable will be exposed to the browser"),`
`,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token console class-name"}),"console"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token method function property-access"}),"log"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token string"}),"'My Application Version'"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," process",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token property-access"}),"env"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token constant"}),"NEXT_PUBLIC_VERSION"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),`

`,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token keyword module"}),"export")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token keyword module"}),"default")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"function")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token function"}),(0,n.kt)("span",Object.assign({parentName:"span"},{className:"token maybe-class-name"}),"HomePage")),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),`
  `,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token keyword control-flow"}),"return")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token tag"}),(0,n.kt)("span",Object.assign({parentName:"span"},{className:"token tag"}),(0,n.kt)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"<"),"h1"),(0,n.kt)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),">")),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token plain-text"}),"Hello World"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token tag"}),(0,n.kt)("span",Object.assign({parentName:"span"},{className:"token tag"}),(0,n.kt)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"</"),"h1"),(0,n.kt)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),">")),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),`
`,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),`
`)),(0,n.kt)("p",null,"The second change is that Next.js now supports ",(0,n.kt)("inlineCode",{parentName:"p"},".env")," loading by default. Allowing you to easily define development and production environment variables."),(0,n.kt)("p",null,"You can read more about the ",(0,n.kt)("inlineCode",{parentName:"p"},".env")," loading in the ",(0,n.kt)("a",Object.assign({parentName:"p"},{href:"https://nextjs.org/docs/basic-features/environment-variables"}),"Environment Variables documentation"),"."),(0,n.kt)("p",null,"These new features will simplify using environment variables by following these conventions:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Environment variables are only available in the Node.js environment by default"),(0,n.kt)("li",{parentName:"ul"},"Environment variables prefixed with ",(0,n.kt)("inlineCode",{parentName:"li"},"NEXT_PUBLIC_")," are exposed to the browser")),(0,n.kt)("h2",null,"Improved Built-in Fetch Support"),(0,n.kt)("p",null,"In ",(0,n.kt)("a",Object.assign({parentName:"p"},{href:"https://nextjs.org/blog/next-9-1-7#new-built-in-polyfills-fetch-url-and-objectassign"}),"Next.js 9.1.7")," we announced polyfilling of the ",(0,n.kt)("a",Object.assign({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API"}),(0,n.kt)("inlineCode",{parentName:"a"},"fetch()"))," API in the browser. Today this polyfilling has been extended to the Node.js environment too."),(0,n.kt)("p",null,"In practice, you no longer have to use any type of server-side fetch polyfill (for example ",(0,n.kt)("inlineCode",{parentName:"p"},"isomorphic-unfetch")," or ",(0,n.kt)("inlineCode",{parentName:"p"},"node-fetch"),") as Next.js will automatically provide ",(0,n.kt)("inlineCode",{parentName:"p"},"fetch()")," in all environments."),(0,n.kt)("p",null,"For example, when using ",(0,n.kt)("inlineCode",{parentName:"p"},"getStaticProps"),", which gets executed using Next.js at build time:"),(0,n.kt)("pre",Object.assign({},{className:"language-jsx"}),(0,n.kt)("code",Object.assign({parentName:"pre"},{className:"language-jsx"}),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token keyword module"}),"export")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"async")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"function")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token function"}),"getStaticProps"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),`
  `,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token comment"}),"// fetch no longer needs to be imported from isomorphic-unfetch"),`
  `,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," res ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token keyword control-flow"}),"await")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token function"}),"fetch"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token string"}),"'https://.../posts'"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),`
  `,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," posts ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token keyword control-flow"}),"await")," res",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token method function property-access"}),"json"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),`

  `,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token keyword control-flow"}),"return")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),`
    `,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token literal-property property"}),"props"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),`
      posts`,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),`
    `,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),`
  `,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),`
`,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),`

`,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"function")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token function"}),(0,n.kt)("span",Object.assign({parentName:"span"},{className:"token maybe-class-name"}),"Blog")),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token parameter"}),(0,n.kt)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{")," posts ",(0,n.kt)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}")),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),`
  `,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token comment"}),"// Render posts..."),`
`,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),`

`,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token keyword module"}),"export")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token keyword module"}),"default")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token maybe-class-name"}),"Blog"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),`
`)),(0,n.kt)("h2",null,"Integrated Web Vitals Reporting"),(0,n.kt)("p",null,"Last week the Google Chrome team introduced ",(0,n.kt)("a",Object.assign({parentName:"p"},{href:"https://web.dev/vitals/"}),"Core Web Vitals"),". Core Web Vitals are the quality signals key to delivering great UX on the web, on top of which the ",(0,n.kt)("a",Object.assign({parentName:"p"},{href:"https://twitter.com/rauchg/status/1259701306387656704"}),"famous Lighthouse reports")," are built."),(0,n.kt)("p",null,"Keeping track of these metrics is extremely useful if you want your website or web application to be as fast as possible, which is one of the core goals of Next.js."),(0,n.kt)(r.Z,{captionSpacing:30,src:"/static/blog/next-9-4/core-web-vitals.jpg",width:768,height:441,mdxType:"ImageFigure"}),(0,n.kt)("p",null,"The Chrome team has released a ",(0,n.kt)("a",Object.assign({parentName:"p"},{href:"https://twitter.com/addyosmani/status/1258416376433131520"}),"Core Web Vitals Chrome extension")," that allows you as a developer to get visual feedback on how your pages are performing."),(0,n.kt)("p",null,"When building production web applications you also want to know how your site is performing for your visitors and (potential) customers. You might even want to track the improvement or regression of these metrics over time in order to see if your changes have the intended impact on your audience."),(0,n.kt)("p",null,"In order to aid reporting Core Web Vitals to your analytics service we have introduced, ",(0,n.kt)("a",Object.assign({parentName:"p"},{href:"https://www.techrepublic.com/article/insiders-look-at-googles-web-framework-contributions-to-next-js-and-more/"}),"in collaboration with Google"),", a new method called ",(0,n.kt)("inlineCode",{parentName:"p"},"reportWebVitals")," which can be exported from ",(0,n.kt)("inlineCode",{parentName:"p"},"pages/_app.js"),":"),(0,n.kt)("pre",Object.assign({},{className:"language-jsx"}),(0,n.kt)("code",Object.assign({parentName:"pre"},{className:"language-jsx"}),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token comment"}),"// Will be called once for every metric that has to be reported."),`
`,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token keyword module"}),"export")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"function")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token function"}),"reportWebVitals"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token parameter"}),"metric"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),`
  `,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token comment"}),"// These metrics can be sent to any analytics service"),`
  `,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token console class-name"}),"console"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token method function property-access"}),"log"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"metric",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),`
`,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),`

`,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"function")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token function"}),(0,n.kt)("span",Object.assign({parentName:"span"},{className:"token maybe-class-name"}),"MyApp")),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token parameter"}),(0,n.kt)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{")," ",(0,n.kt)("span",Object.assign({parentName:"span"},{className:"token maybe-class-name"}),"Component"),(0,n.kt)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),",")," pageProps ",(0,n.kt)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}")),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),`
  `,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token keyword control-flow"}),"return")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token tag"}),(0,n.kt)("span",Object.assign({parentName:"span"},{className:"token tag"}),(0,n.kt)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"<"),(0,n.kt)("span",Object.assign({parentName:"span"},{className:"token class-name"}),"Component"))," ",(0,n.kt)("span",Object.assign({parentName:"span"},{className:"token spread"}),(0,n.kt)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"{"),(0,n.kt)("span",Object.assign({parentName:"span"},{className:"token spread operator"}),"..."),"pageProps",(0,n.kt)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"}"))," ",(0,n.kt)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"/>")),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),`
`,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),`

`,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token keyword module"}),"export")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token keyword module"}),"default")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token maybe-class-name"}),"MyApp"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),`
`)),(0,n.kt)("p",null,"To use this method in combination with your analytics service refer to the ",(0,n.kt)("a",Object.assign({parentName:"p"},{href:"https://nextjs.org/docs/advanced-features/measuring-performance#sending-results-to-analytics"}),'"Sending result to Analytics"')," section of the docs. If you want to learn more about Core Web Vitals you can refer to ",(0,n.kt)("a",Object.assign({parentName:"p"},{href:"https://web.dev/vitals/"}),"web.dev/vitals"),"."),(0,n.kt)("h2",null,"Absolute Imports and Aliases"),(0,n.kt)("p",null,`If you’re working on a large project, some of your `,(0,n.kt)("inlineCode",{parentName:"p"},"import")," statements might suffer from the ",(0,n.kt)("inlineCode",{parentName:"p"},"../../../")," spaghetti:"),(0,n.kt)("pre",Object.assign({},{className:"language-jsx"}),(0,n.kt)("code",Object.assign({parentName:"pre"},{className:"language-jsx"}),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token keyword module"}),"import")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token imports"}),(0,n.kt)("span",Object.assign({parentName:"span"},{className:"token maybe-class-name"}),"Button"))," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token keyword module"}),"from")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token string"}),"'../../../../components/button'"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),`
`)),(0,n.kt)("p",null,"In such cases, instead of relative imports, we might want to use ",(0,n.kt)("strong",{parentName:"p"},"absolute imports"),". Assuming that the ",(0,n.kt)("inlineCode",{parentName:"p"},"components")," directory exists at the root, we might want ",(0,n.kt)("inlineCode",{parentName:"p"},"import")," statements to look like:"),(0,n.kt)("pre",Object.assign({},{className:"language-jsx"}),(0,n.kt)("code",Object.assign({parentName:"pre"},{className:"language-jsx"}),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token keyword module"}),"import")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token imports"}),(0,n.kt)("span",Object.assign({parentName:"span"},{className:"token maybe-class-name"}),"Button"))," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token keyword module"}),"from")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token string"}),"'components/button'"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),`
`)),(0,n.kt)("p",null,"We're excited to announce that Next.js 9.4 makes setting up absolute imports super simple for both JavaScript and TypeScript projects. All you need to do is to add the ",(0,n.kt)("inlineCode",{parentName:"p"},"baseUrl")," config to ",(0,n.kt)("a",Object.assign({parentName:"p"},{href:"https://code.visualstudio.com/docs/languages/jsconfig#_jsconfig-options"}),(0,n.kt)("inlineCode",{parentName:"a"},"jsconfig.json")," (JS projects)")," or ",(0,n.kt)("a",Object.assign({parentName:"p"},{href:"https://www.typescriptlang.org/docs/handbook/module-resolution.html#base-url"}),(0,n.kt)("inlineCode",{parentName:"a"},"tsconfig.json")," (TS projects)"),"."),(0,n.kt)("pre",Object.assign({},{className:"language-jsx"}),(0,n.kt)("code",Object.assign({parentName:"pre"},{className:"language-jsx"}),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token comment"}),"// jsconfig.json or tsconfig.json"),`
`,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),`
  `,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token string-property property"}),'"compilerOptions"'),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),`
    `,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token string-property property"}),'"baseUrl"'),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token string"}),'"."'),`
  `,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),`
`,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),`
`)),(0,n.kt)("p",null,"This will allow absolute imports from ",(0,n.kt)("inlineCode",{parentName:"p"},".")," (the root directory). It also integrates with VSCode and other editors, supporting code navigation and other editor features."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Note:"),` If you’ve previously modified your `,(0,n.kt)("a",Object.assign({parentName:"p"},{href:"https://webpack.js.org/configuration/resolve/#resolvealias"}),"Webpack module alias configuration")," to enable absolute imports, that configuration can now be removed."),(0,n.kt)("p",null,"Furthermore, Next.js 9.4 also supports the ",(0,n.kt)("inlineCode",{parentName:"p"},"paths")," option, which allows you to create custom module aliases. For example, the following allows you to use ",(0,n.kt)("inlineCode",{parentName:"p"},"@/design-system")," instead of ",(0,n.kt)("inlineCode",{parentName:"p"},"components/design-system"),":"),(0,n.kt)("pre",Object.assign({},{className:"language-jsx"}),(0,n.kt)("code",Object.assign({parentName:"pre"},{className:"language-jsx"}),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token comment"}),"// tsconfig.json or jsconfig.json"),`
`,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),`
  `,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token string-property property"}),'"compilerOptions"'),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),`
    `,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token string-property property"}),'"baseUrl"'),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token string"}),'"."'),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),`
    `,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token string-property property"}),'"paths"'),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),`
      `,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token string-property property"}),'"@/design-system/*"'),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token string"}),'"components/design-system/*"'),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]"),`
    `,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),`
  `,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),`
`,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),`
`)),(0,n.kt)("p",null,"You can then use your alias like so:"),(0,n.kt)("pre",Object.assign({},{className:"language-jsx"}),(0,n.kt)("code",Object.assign({parentName:"pre"},{className:"language-jsx"}),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token comment"}),"// Imports 'components/design-system/button'"),`
`,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token keyword module"}),"import")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token imports"}),(0,n.kt)("span",Object.assign({parentName:"span"},{className:"token maybe-class-name"}),"Button"))," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token keyword module"}),"from")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token string"}),"'@/design-system/button'"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),`
`)),(0,n.kt)("p",null,"You must specify ",(0,n.kt)("inlineCode",{parentName:"p"},"baseUrl")," if you specify ",(0,n.kt)("inlineCode",{parentName:"p"},"paths"),". You can learn more about the ",(0,n.kt)("inlineCode",{parentName:"p"},"paths")," option ",(0,n.kt)("a",Object.assign({parentName:"p"},{href:"https://www.typescriptlang.org/docs/handbook/module-resolution.html#path-mapping"}),"in the TypeScript documentation"),"."),(0,n.kt)("h2",null,"Configurable Sass Support"),(0,n.kt)("p",null,"When built-in Sass support was launched in ",(0,n.kt)("a",Object.assign({parentName:"p"},{href:"https://nextjs.org/blog/next-9-3#built-in-sass-support-for-global-stylesheets"}),"Next.js 9.3")," we got the feedback that a subset of users wanted to configure the sass compiler. For example to configure ",(0,n.kt)("inlineCode",{parentName:"p"},"includePaths"),"."),(0,n.kt)("p",null,"This is now possible by using the ",(0,n.kt)("inlineCode",{parentName:"p"},"sassOptions")," key in ",(0,n.kt)("inlineCode",{parentName:"p"},"next.config.js"),":"),(0,n.kt)("pre",Object.assign({},{className:"language-jsx"}),(0,n.kt)("code",Object.assign({parentName:"pre"},{className:"language-jsx"}),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," path ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token function"}),"require"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token string"}),"'path'"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),`

module`,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token property-access"}),"exports")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),`
  `,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token literal-property property"}),"sassOptions"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),`
    `,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token literal-property property"}),"includePaths"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),"path",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"."),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token method function property-access"}),"join"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"__dirname",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token string"}),"'styles'"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),`
  `,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),`
`,(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),(0,n.kt)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),`
`)),(0,n.kt)("h2",null,"Improved Log Output"),(0,n.kt)("p",null,"We have redesigned the command line output to be more consistent and output less duplicate data like the deployment URL, waiting on the development server to start and more. We've also changed the spacing of the message type to be consistent across messages, meaning they no longer jump from line to line."),(0,n.kt)("p",null,"Running ",(0,n.kt)("inlineCode",{parentName:"p"},"next dev")," on versions before 9.4"),(0,n.kt)(r.Z,{captionSpacing:30,src:"/static/blog/next-9-4/log-output-previous.png",width:674,height:439,mdxType:"ImageFigure"}),(0,n.kt)("p",null,"Running ",(0,n.kt)("inlineCode",{parentName:"p"},"next dev")," on 9.4"),(0,n.kt)(r.Z,{captionSpacing:30,src:"/static/blog/next-9-4/log-output-new.png",width:674,height:439,mdxType:"ImageFigure"}),(0,n.kt)("h2",null,"Community"),(0,n.kt)("p",null,"We're excited to see the continued growth in Next.js adoption:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"We have had over ",(0,n.kt)("strong",{parentName:"li"},"1066")," independent contributors."),(0,n.kt)("li",{parentName:"ul"},"On GitHub, the project has been starred over ",(0,n.kt)("strong",{parentName:"li"},"48,000")," times.")),(0,n.kt)("p",null,"Join the Next.js community on ",(0,n.kt)("a",Object.assign({parentName:"p"},{href:"https://github.com/vercel/next.js/discussions"}),"GitHub Discussions"),". Discussions is a community space that allows you to connect with other Next.js users and ask questions."),(0,n.kt)("p",null,"If you are using Next.js feel free to ",(0,n.kt)("a",Object.assign({parentName:"p"},{href:"https://github.com/vercel/next.js/discussions/10640"}),"share your project url")," with the community."),(0,n.kt)("p",null,"We are thankful to our community and all the external feedback and contributions that helped shape this release."))}m.isMDXComponent=!0},27054:function(e){e.exports={figure:"image-figure_figure__DUggx",shadow:"image-figure_shadow___1DHG",figcaption:"image-figure_figcaption__LVySW",img:"image-figure_img__fnPt1"}}},function(e){e.O(0,[9774,3810,3593,2528,193,410,1324,6868,5706,7213,889,767,1215,5357,5289,9717,2888,179],function(){return e(e.s=85368)}),_N_E=e.O()}]);